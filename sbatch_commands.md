# sbatch commands


## Data reduction pipeline:

```
# note that these use ipython; if you add -- flags for the pipeline, you need -- before the --flag stuff
sbatch --job-name=webb-long-pipeline --output=webb-long-pipeline-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py"
sbatch --job-name=webb-short-pipeline --output=web-short-pipeline-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-SHORT.py"

sbatch --job-name=webb-miri-pipeline --output=web-miri-pipeline-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineMIRI.py"
```

Modular pipeline runs:
```
sbatch --job-name=webb-long-pipeF405N --output=webb-long-pipeline-F405N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F405N"
sbatch --job-name=webb-long-pipeF410M --output=webb-long-pipeline-F410M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F410M"
sbatch --job-name=webb-long-pipeF466N --output=webb-long-pipeline-F466N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F466N"
sbatch --job-name=webb-short-pipeF212N --output=web-short-pipeline-F212N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F212N"
sbatch --job-name=webb-short-pipeF187N --output=web-short-pipeline-F187N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F187N"
sbatch --job-name=webb-short-pipeF182M --output=web-short-pipeline-F182M-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F182M"

# skip step1and2
sbatch --job-name=webb-long-pipeF405N --output=webb-long-pipeline-F405N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F405N --skip_step1and2"
sbatch --job-name=webb-long-pipeF410M --output=webb-long-pipeline-F410M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F410M --skip_step1and2"
sbatch --job-name=webb-long-pipeF466N --output=webb-long-pipeline-F466N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F466N --skip_step1and2"
sbatch --job-name=webb-short-pipeF212N --output=web-short-pipeline-F212N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F212N --skip_step1and2"
sbatch --job-name=webb-short-pipeF187N --output=web-short-pipeline-F187N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F187N --skip_step1and2"
sbatch --job-name=webb-short-pipeF182M --output=web-short-pipeline-F182M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F182M --skip_step1and2"

```

Modular pipeline runs, only merged:
```
sbatch --job-name=webb-long-pipeF405Nmrg --output=webb-long-pipeline-F405N-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F405N --modules=merged --skip_step1and2"
sbatch --job-name=webb-long-pipeF466Nmrg --output=webb-long-pipeline-F466N-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F466N --modules=merged --skip_step1and2"
sbatch --job-name=webb-long-pipeF410Mmrg --output=webb-long-pipeline-F410M-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F410M --modules=merged --skip_step1and2"
sbatch --job-name=webb-short-pipeF212Nmrg --output=web-short-pipeline-F212N-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F212N --modules=merged --skip_step1and2"
sbatch --job-name=webb-short-pipeF187Nmrg --output=web-short-pipeline-F187N-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F187N --modules=merged --skip_step1and2"
sbatch --job-name=webb-short-pipeF182Mmrg --output=web-short-pipeline-F182M-merged-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --field=001 --filternames=F182M --modules=merged --skip_step1and2"
```

Modular pipeline runs, split into nrca/nrcb:

Long (has to be run first, in merge mode)
```
sbatch --job-name=webb-long-pipeF466Nnrca --output=webb-long-pipeline-F466N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F466N --modules=nrca --field=001"
sbatch --job-name=webb-long-pipeF466Nnrcb --output=webb-long-pipeline-F466N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F466N --modules=nrcb --field=001"

sbatch --job-name=webb-long-pipeF410Mnrcb --output=webb-long-pipeline-F410M-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F410M --modules=nrcb --field=001"
sbatch --job-name=webb-long-pipeF410Mnrca --output=webb-long-pipeline-F410M-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F410M --modules=nrca --field=001"

sbatch --job-name=webb-long-pipeF405Nnrca --output=webb-long-pipeline-F405N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F405N --modules=nrca --field=001"
sbatch --job-name=webb-long-pipeF405Nnrcb --output=webb-long-pipeline-F405N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F405N --modules=nrcb --field=001"

# merged
sbatch --job-name=webb-long-pipeF466Nmrg --output=webb-long-pipeline-F466N-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F466N --modules=merged --field=001"
sbatch --job-name=webb-long-pipeF410Mmrg --output=webb-long-pipeline-F410M-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F410M --modules=merged --field=001"
sbatch --job-name=webb-long-pipeF405Nmrg --output=webb-long-pipeline-F405N-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F405N --modules=merged --field=001"
```

Short:
```
sbatch --job-name=webb-short-pipeF212Nnrca --output=web-short-pipeline-F212N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F212N --modules=nrca --field=001"
sbatch --job-name=webb-short-pipeF187Nnrca --output=web-short-pipeline-F187N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F187N --modules=nrca --field=001"
sbatch --job-name=webb-short-pipeF182Mnrca --output=web-short-pipeline-F182M-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F182M --modules=nrca --field=001"
sbatch --job-name=webb-short-pipeF212Nnrcb --output=web-short-pipeline-F212N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F212N --modules=nrcb --field=001"
sbatch --job-name=webb-short-pipeF187Nnrcb --output=web-short-pipeline-F187N-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F187N --modules=nrcb --field=001"
sbatch --job-name=webb-short-pipeF182Mnrcb --output=web-short-pipeline-F182M-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=16 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F182M --modules=nrcb --field=001"

sbatch --job-name=webb-short-pipeF212Nmrg --output=web-short-pipeline-F212N-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F212N --modules=merged --field=001"
sbatch --job-name=webb-short-pipeF187Nmrg --output=web-short-pipeline-F187N-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F187N --modules=merged --field=001"
sbatch --job-name=webb-short-pipeF182Mmrg --output=web-short-pipeline-F182M-merged-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F182M --modules=merged --field=001"
```

If saturated star finding needs to be run independently:
```
sbatch --job-name=brick-satstars --output=brick-satstars-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/saturated_star_finding.py"
```

Realign again - because apparently this just doesn't work in the pipeline?  I don't get it.
```
sbatch --job-name=brick-realignmerge --output=brick-realignmerge-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/realign_and_merge.py"
sbatch --job-name=brick-runnotebooks --output=brick-notebooks-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/run_notebook.py"
```

Cloud C Pipeline:
```
sbatch --job-name=webb-long-pipeF187N --output=webb-long-pipeline-F187N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F187N --field=002"
sbatch --job-name=webb-long-pipeF182M --output=webb-long-pipeline-F182M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F182M --field=002"
sbatch --job-name=webb-long-pipeF212N --output=webb-long-pipeline-F212N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F212N --field=002"
sbatch --job-name=webb-long-pipeF405N --output=webb-long-pipeline-F405N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F405N --field=002"
sbatch --job-name=webb-long-pipeF410M --output=webb-long-pipeline-F410M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F410M --field=002"
sbatch --job-name=webb-long-pipeF466N --output=webb-long-pipeline-F466N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F466N --field=002"
```

Cloud C Pipeline No-destreak:
```
sbatch --job-name=webb-long-pipeF187N --output=webb-long-pipeline-F187N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F187N --field=002 --no_destreak"
sbatch --job-name=webb-long-pipeF182M --output=webb-long-pipeline-F182M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F182M --field=002 --no_destreak"
sbatch --job-name=webb-long-pipeF212N --output=webb-long-pipeline-F212N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F212N --field=002 --no_destreak"
sbatch --job-name=webb-long-pipeF405N --output=webb-long-pipeline-F405N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F405N --field=002 --no_destreak"
sbatch --job-name=webb-long-pipeF410M --output=webb-long-pipeline-F410M-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F410M --field=002 --no_destreak"
sbatch --job-name=webb-long-pipeF466N --output=webb-long-pipeline-F466N-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/code/brick-jwst-2221/reduction/PipelineRerunNIRCAM-LONG.py --filternames=F466N --field=002 --no_destreak"
```

Cloud C MedianFilterBackground
```
sbatch --job-name=make-medfiltbkgd --output=make-medfiltbkgd-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/reduction/brick-jwst-2221/reduction/make_medfiltbkgd.py"
```

## Cataloging

Individual filters:
```
sbatch --job-name=webb-cat-F182M --output=web-cat-F182M%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M"
sbatch --job-name=webb-cat-F187N --output=web-cat-F187N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N"
sbatch --job-name=webb-cat-F212N --output=web-cat-F212N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N"
sbatch --job-name=webb-cat-F405N --output=web-cat-F405N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N"
sbatch --job-name=webb-cat-F410M --output=web-cat-F410M%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M"
sbatch --job-name=webb-cat-F466N --output=web-cat-F466N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N"
```

Cloud C merged (crowdsource+daophot):
```
sbatch --job-name=webb-cat-F405N --output=web-cat-F405N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F405N --field=002 --target=cloudc --daophot --modules=merged"
sbatch --job-name=webb-cat-F410M --output=web-cat-F410M%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F410M --field=002 --target=cloudc --daophot --modules=merged"
sbatch --job-name=webb-cat-F466N --output=web-cat-F466N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F466N --field=002 --target=cloudc --daophot --modules=merged"
sbatch --job-name=webb-cat-F212N --output=web-cat-F212N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F212N --field=002 --target=cloudc --daophot --modules=merged"
sbatch --job-name=webb-cat-F182M --output=web-cat-F182M%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F182M --field=002 --target=cloudc --daophot --modules=merged"
sbatch --job-name=webb-cat-F187N --output=web-cat-F187N%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F187N --field=002 --target=cloudc --daophot --modules=merged"
```

Bigger groups:
```
sbatch --job-name=webb-cat-long --output=web-cat-long%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py"
# short-> long, doesn't work sbatch --job-name=webb-cat-short --output=web-cat-short%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py"
```

Merge (crossmatch) the catalogs (this means merge different filters - this doesn't merge nrca+nrcb) = merge catalogs:
```
sbatch --job-name=webb-cat-merge --output=web-cat-merge%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/merge_catalogs.py"

sbatch --job-name=webb-cat-merge-daophot --output=web-cat-merge-daophot%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/merge_catalogs.py --skip-crowdsource"
sbatch --job-name=webb-cat-merge-crowdsource --output=web-cat-merge-crowdsource%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/merge_catalogs.py --skip-daophot"

sbatch --array=0-10 --job-name=webb-cat-merge-daophot --output=webb-cat-merge-daophot_%j_%A-%a.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=16 --nodes=1 --mem=96gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/merge_catalogs.py --skip-crowdsource"
```

Merge the merged module catalogs for Cloud C:
```
sbatch --job-name=webb-cat-merge --output=web-cat-merge%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=4 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /blue/adamginsburg/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/merge_catalogs.py --target=cloudc --modules=merged"
```

With extra options:
```
sbatch --job-name=webb-cat-F405N-a --output=web-cat-F405N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=nrca --desaturated=False"
sbatch --job-name=webb-cat-F410M-a --output=web-cat-F410M-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=nrca"
sbatch --job-name=webb-cat-F410M-b --output=web-cat-F410M-b%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=nrcb"
sbatch --job-name=webb-cat-F466N-a --output=web-cat-F466N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=nrca --desaturated=False"
sbatch --job-name=webb-cat-F466N-a --output=web-cat-F466N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=nrca"
```

Cloud C merged (JUST crowdsource):
```
sbatch --job-name=webb-cat-F405N --output=web-cat-F405N_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F405N --field=002 --target=cloudc --modules=merged"
sbatch --job-name=webb-cat-F410M --output=web-cat-F410M_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F410M --field=002 --target=cloudc --modules=merged"
sbatch --job-name=webb-cat-F466N --output=web-cat-F466N_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F466N --field=002 --target=cloudc --modules=merged"
sbatch --job-name=webb-cat-F212N --output=web-cat-F212N_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F212N --field=002 --target=cloudc --modules=merged"
sbatch --job-name=webb-cat-F182M --output=web-cat-F182M_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F182M --field=002 --target=cloudc --modules=merged"
sbatch --job-name=webb-cat-F187N --output=web-cat-F187N_cs%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F187N --field=002 --target=cloudc --modules=merged"
```

Cloud C merged (JUST daophot):
```
sbatch --job-name=webb-cat-F405N --output=web-cat-F405N-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F405N --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
sbatch --job-name=webb-cat-F410M --output=web-cat-F410M-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F410M --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
sbatch --job-name=webb-cat-F466N --output=web-cat-F466N-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F466N --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
sbatch --job-name=webb-cat-F212N --output=web-cat-F212N-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F212N --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
sbatch --job-name=webb-cat-F182M --output=web-cat-F182M-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F182M --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
sbatch --job-name=webb-cat-F187N --output=web-cat-F187N-dao%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python39/bin/python /orange/adamginsburg/jwst/cloudc/cloudc-jwst-2221/analysis/crowdsource_catalogs_long.py --filternames=F187N --field=002 --target=cloudc --daophot --skip-crowdsource --modules=merged"
```

Desaturated:
```
sbatch --job-name=webb-cat-F405N-m-ds --output=web-cat-F405N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --desaturated"
sbatch --job-name=webb-cat-F410M-m-ds --output=web-cat-F410M-b%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --desaturated"
sbatch --job-name=webb-cat-F466N-m-ds --output=web-cat-F466N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --desaturated"
```

Background-subtracted, each module on its own, very parallel:
```
sbatch --job-name=webb-cat-F405N-abm-bg --output=web-cat-F405N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --bgsub --modules=merged,nrca,nrcb"
sbatch --job-name=webb-cat-F410M-abm-bg --output=web-cat-F410M-b%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --bgsub --modules=merged,nrca,nrcb"
sbatch --job-name=webb-cat-F466N-abm-bg --output=web-cat-F466N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --bgsub --modules=merged,nrca,nrcb"
sbatch --job-name=webb-cat-F187N-abm-bg --output=web-cat-F187N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --bgsub --modules=merged,nrca,nrcb"
sbatch --job-name=webb-cat-F182M-abm-bg --output=web-cat-F182M-b%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --bgsub --modules=merged,nrca,nrcb"
sbatch --job-name=webb-cat-F212N-abm-bg --output=web-cat-F212N-a%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --bgsub --modules=merged,nrca,nrcb"


sbatch --job-name=webb-cat-F405N-mrgrep-bg --output=web-cat-F405N-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --bgsub --modules=merged-reproject"
sbatch --job-name=webb-cat-F410M-mrgrep-bg --output=web-cat-F410M-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --bgsub --modules=merged-reproject"
sbatch --job-name=webb-cat-F466N-mrgrep-bg --output=web-cat-F466N-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --bgsub --modules=merged-reproject"
sbatch --job-name=webb-cat-F187N-mrgrep-bg --output=web-cat-F187N-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --bgsub --modules=merged-reproject"
sbatch --job-name=webb-cat-F182M-mrgrep-bg --output=web-cat-F182M-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --bgsub --modules=merged-reproject"
sbatch --job-name=webb-cat-F212N-mrgrep-bg --output=web-cat-F212N-mrgrep-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --bgsub --modules=merged-reproject"

sbatch --job-name=webb-cat-F405N-mrgrep --output=web-cat-F405N-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged-reproject"
sbatch --job-name=webb-cat-F410M-mrgrep --output=web-cat-F410M-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged-reproject"
sbatch --job-name=webb-cat-F466N-mrgrep --output=web-cat-F466N-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged-reproject"
sbatch --job-name=webb-cat-F187N-mrgrep --output=web-cat-F187N-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged-reproject"
sbatch --job-name=webb-cat-F182M-mrgrep --output=web-cat-F182M-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged-reproject"
sbatch --job-name=webb-cat-F212N-mrgrep --output=web-cat-F212N-mrgrep%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged-reproject"

# DAOPHOT: do it all (merged-reproject)
sbatch --job-name=webb-cat-F405N-mrgrep-dao --output=web-cat-F405N-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged-reproject --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F410M-mrgrep-dao --output=web-cat-F410M-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged-reproject --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F466N-mrgrep-dao --output=web-cat-F466N-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged-reproject --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F187N-mrgrep-dao --output=web-cat-F187N-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged-reproject --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F182M-mrgrep-dao --output=web-cat-F182M-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged-reproject --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F212N-mrgrep-dao --output=web-cat-F212N-mrgrep-dao%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged-reproject --daophot --skip-crowdsource"

sbatch --job-name=webb-cat-F405N-mrgrep-dao --output=web-cat-F405N-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F410M-mrgrep-dao --output=web-cat-F410M-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F466N-mrgrep-dao --output=web-cat-F466N-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F187N-mrgrep-dao --output=web-cat-F187N-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F182M-mrgrep-dao --output=web-cat-F182M-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --daophot --skip-crowdsource"
sbatch --job-name=webb-cat-F212N-mrgrep-dao --output=web-cat-F212N-mrg-dao_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --daophot --skip-crowdsource"

sbatch --job-name=webb-cat-F405N-mrgrep-dao --output=web-cat-F405N-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --daophot --skip-crowdsource --blur"
sbatch --job-name=webb-cat-F410M-mrgrep-dao --output=web-cat-F410M-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --daophot --skip-crowdsource --blur"
sbatch --job-name=webb-cat-F466N-mrgrep-dao --output=web-cat-F466N-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --daophot --skip-crowdsource --blur"
sbatch --job-name=webb-cat-F187N-mrgrep-dao --output=web-cat-F187N-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --daophot --skip-crowdsource --blur"
sbatch --job-name=webb-cat-F182M-mrgrep-dao --output=web-cat-F182M-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --daophot --skip-crowdsource --blur"
sbatch --job-name=webb-cat-F212N-mrgrep-dao --output=web-cat-F212N-mrg-dao-blur_%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --daophot --skip-crowdsource --blur"


sbatch --job-name=webb-cat-F405N-mrgrep-dao-epsf --output=web-cat-F405N-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --daophot --skip-crowdsource --epsf"
sbatch --job-name=webb-cat-F410M-mrgrep-dao-epsf --output=web-cat-F410M-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --daophot --skip-crowdsource --epsf"
sbatch --job-name=webb-cat-F466N-mrgrep-dao-epsf --output=web-cat-F466N-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --daophot --skip-crowdsource --epsf"
sbatch --job-name=webb-cat-F187N-mrgrep-dao-epsf --output=web-cat-F187N-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --daophot --skip-crowdsource --epsf"
sbatch --job-name=webb-cat-F182M-mrgrep-dao-epsf --output=web-cat-F182M-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --daophot --skip-crowdsource --epsf"
sbatch --job-name=webb-cat-F212N-mrgrep-dao-epsf --output=web-cat-F212N-mrgrep-dao-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --daophot --skip-crowdsource --epsf"

sbatch --job-name=webb-cat-F405N-mrgrep-dao-bg --output=web-cat-F405N-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged-reproject --daophot --skip-crowdsource --bgsub"
sbatch --job-name=webb-cat-F410M-mrgrep-dao-bg --output=web-cat-F410M-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged-reproject --daophot --skip-crowdsource --bgsub"
sbatch --job-name=webb-cat-F466N-mrgrep-dao-bg --output=web-cat-F466N-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged-reproject --daophot --skip-crowdsource --bgsub"
sbatch --job-name=webb-cat-F187N-mrgrep-dao-bg --output=web-cat-F187N-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged-reproject --daophot --skip-crowdsource --bgsub"
sbatch --job-name=webb-cat-F182M-mrgrep-dao-bg --output=web-cat-F182M-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged-reproject --daophot --skip-crowdsource --bgsub"
sbatch --job-name=webb-cat-F212N-mrgrep-dao-bg --output=web-cat-F212N-mrgrep-dao-bg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged-reproject --daophot --skip-crowdsource --bgsub"

sbatch --job-name=webb-cat-F405N-mrgrep-dao-bg-epsf --output=web-cat-F405N-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
sbatch --job-name=webb-cat-F410M-mrgrep-dao-bg-epsf --output=web-cat-F410M-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
sbatch --job-name=webb-cat-F466N-mrgrep-dao-bg-epsf --output=web-cat-F466N-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
sbatch --job-name=webb-cat-F187N-mrgrep-dao-bg-epsf --output=web-cat-F187N-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
sbatch --job-name=webb-cat-F182M-mrgrep-dao-bg-epsf --output=web-cat-F182M-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
sbatch --job-name=webb-cat-F212N-mrgrep-dao-bg-epsf --output=web-cat-F212N-mrgrep-dao-bg-epsf%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=512gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --daophot --skip-crowdsource --bgsub --epsf"
```



bad download fix
```
for cur_path, directories, files in os.walk('/orange/adamginsburg/jwst/brick'):
    for fn in files:
        if fn.endswith('fits'):
            try:
                fits.open(os.path.join(cur_path, fn))
            except OSError as ex:
                if "No SIMPLE" in str(ex):
                    print(os.path.join(cur_path, fn))
                    os.remove(os.path.join(cur_path, fn))
```

## PSF making


```
sbatch --job-name=make_psfs_brick --output=make_psfs_brick-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick"
sbatch --job-name=make_psfs_brick1182 --output=make_psfs_brick-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick"


sbatch --job-name=make_psfs_cloudc187blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F187N --blur --redo"
sbatch --job-name=make_psfs_cloudc212blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F212N --blur --redo"
sbatch --job-name=make_psfs_cloudc405blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F182M --blur --redo"
sbatch --job-name=make_psfs_cloudc405blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F405N --blur --redo"
sbatch --job-name=make_psfs_cloudc410blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F410M --blur --redo"
sbatch --job-name=make_psfs_cloudc466blur --output=make_psfs_cloudc_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F466N --blur --redo"

sbatch --job-name=make_psfs_brick1182f115wblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F115W --blur --redo"
sbatch --job-name=make_psfs_brick1182f200wblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F200W --blur --redo"
sbatch --job-name=make_psfs_brick1182f356wblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F356W --blur --redo"
sbatch --job-name=make_psfs_brick1182f444wblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F444W --blur --redo"

sbatch --job-name=make_psfs_brickf182mblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F182M --blur --redo"
sbatch --job-name=make_psfs_brickf187nblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F187N --blur --redo"
sbatch --job-name=make_psfs_brickf212nblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F212N --blur --redo"
sbatch --job-name=make_psfs_brickf466nblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F466N --blur --redo"
sbatch --job-name=make_psfs_brickf405nblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F405N --blur --redo"
sbatch --job-name=make_psfs_brickf410mblur --output=make_psfs_brick_blur-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F410M --blur --redo"

sbatch --job-name=make_psfs_cloudc187 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F187N --redo"
sbatch --job-name=make_psfs_cloudc212 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F212N --redo"
sbatch --job-name=make_psfs_cloudc405 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F182M --redo"
sbatch --job-name=make_psfs_cloudc405 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F405N --redo"
sbatch --job-name=make_psfs_cloudc410 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F410M --redo"
sbatch --job-name=make_psfs_cloudc466 --output=make_psfs_cloudc-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=cloudc --filternames=F466N --redo"

sbatch --job-name=make_psfs_brick1182f115w --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F115W --redo"
sbatch --job-name=make_psfs_brick1182f200w --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F200W --redo"
sbatch --job-name=make_psfs_brick1182f356w --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F356W --redo"
sbatch --job-name=make_psfs_brick1182f444w --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=1182 --target=brick --filternames=F444W --redo"

sbatch --job-name=make_psfs_brickf182m --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F182M --redo"
sbatch --job-name=make_psfs_brickf187n --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F187N --redo"
sbatch --job-name=make_psfs_brickf212n --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F212N --redo"
sbatch --job-name=make_psfs_brickf466n --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F466N --redo"
sbatch --job-name=make_psfs_brickf405n --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F405N --redo"
sbatch --job-name=make_psfs_brickf410m --output=make_psfs_brick-%j.log --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=64gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/make_merged_psf.py -- --proposal_id=2221 --target=brick --filternames=F410M --redo"
```



Redo all cataloging merged
```
sbatch --job-name=webb-cat-F444W --output=web-cat-F444W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F444W --proposal_id=1182 --modules=merged --daophot"
sbatch --job-name=webb-cat-F356W --output=web-cat-F356W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F356W --proposal_id=1182 --modules=merged --daophot"
sbatch --job-name=webb-cat-F200W --output=web-cat-F200W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F200W --proposal_id=1182 --modules=merged --daophot"
sbatch --job-name=webb-cat-F115W --output=web-cat-F115W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F115W --proposal_id=1182 --modules=merged --daophot"
sbatch --job-name=webb-cat-F405N-mrg --output=web-cat-F405N-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --daophot"
sbatch --job-name=webb-cat-F410M-mrg --output=web-cat-F410M-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --daophot"
sbatch --job-name=webb-cat-F466N-mrg --output=web-cat-F466N-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --daophot"
sbatch --job-name=webb-cat-F187N-mrg --output=web-cat-F187N-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --daophot"
sbatch --job-name=webb-cat-F182M-mrg --output=web-cat-F182M-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --daophot"
sbatch --job-name=webb-cat-F212N-mrg --output=web-cat-F212N-mrg%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --daophot"

sbatch --job-name=webb-cat-F444Wmrgblur --output=web-cat-F444W-mrgblur%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F444W --proposal_id=1182 --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F356Wmrgblur --output=web-cat-F356W-mrgblur%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F356W --proposal_id=1182 --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F200Wmrgblur --output=web-cat-F200W-mrgblur%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F200W --proposal_id=1182 --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F115Wmrgblur --output=web-cat-F115W-mrgblur%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F115W --proposal_id=1182 --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F405Nmrgblur --output=web-cat-F405N-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F405N --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F410Mmrgblur --output=web-cat-F410M-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F466Nmrgblur --output=web-cat-F466N-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F466N --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F187Nmrgblur --output=web-cat-F187N-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F187N --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F182Mmrgblur --output=web-cat-F182M-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F182M --modules=merged --blur --daophot"
sbatch --job-name=webb-cat-F212Nmrgblur --output=web-cat-F212N-mrgblur%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F212N --modules=merged --blur --daophot"

bash run_all (daophot):

for filter in F115W F200W F356W F444W; do
    for blur in " " "--blur"; do
        for bgsub in " " "--bgsub"; do
            sbatch --job-name=webb-cat-${filter}mrg${blur:2}${bgsub:2} --output=web-cat-${filter}-mrg${blur:2}${bgsub:2}%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=${filter} --proposal_id=1182 --modules=merged $blur $bgsub --daophot --skip-crowdsource"
        done
    done
done

for filter in F212N F182M F187N F410M F405N F466N; do
    for blur in " " "--blur"; do
        for bgsub in " " "--bgsub"; do
            sbatch --job-name=webb-cat-${filter}mrg${blur:2}${bgsub:2} --output=web-cat-${filter}-mrg${blur:2}${bgsub:2}%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=${filter} --modules=merged $blur $bgsub --daophot --skip-crowdsource"
        done
    done
done

```

For 1182:
```
sbatch --job-name=webb-long-pipeline-1182 --output=webb-long-pipeline-1182-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=merged --filternames=F444W,F115W,F200W,F356W"
sbatch --job-name=webb-long-pipeline-1182 --output=webb-long-pipeline-1182-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:0wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=merged --filternames=F444W,F356W"

sbatch --job-name=webb-pipeline-1182-F200W --output=webb-pipeline-1182-F200W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=nrca,nrcb,merged --filternames=F200W"
sbatch --job-name=webb-pipeline-1182-F115W --output=webb-pipeline-1182-F115W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=nrca,nrcb,merged --filternames=F115W"
sbatch --job-name=webb-pipeline-1182-F444W --output=webb-pipeline-1182-F444W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=nrca,nrcb,merged --filternames=F444W"
sbatch --job-name=webb-pipeline-1182-F356W --output=webb-pipeline-1182-F356W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --modules=nrca,nrcb,merged --filternames=F356W"

sbatch --job-name=webb-pipeline-1182-F200W-nodestreak --output=webb-pipeline-1182-F200W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --modules=nrca,nrcb,merged --filternames=F200W"
sbatch --job-name=webb-pipeline-1182-F115W-nodestreak --output=webb-pipeline-1182-F115W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --modules=nrca,nrcb,merged --filternames=F115W"
sbatch --job-name=webb-pipeline-1182-F444W-nodestreak --output=webb-pipeline-1182-F444W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --modules=nrca,nrcb,merged --filternames=F444W"
sbatch --job-name=webb-pipeline-1182-F356W-nodestreak --output=webb-pipeline-1182-F356W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --modules=nrca,nrcb,merged --filternames=F356W"

sbatch --job-name=webb-pipeline-1182-F200W-nodes --output=webb-pipeline-1182-F200W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --skip_step1and2 --modules=merged --filternames=F200W"
sbatch --job-name=webb-pipeline-1182-F115W-nodes --output=webb-pipeline-1182-F115W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --skip_step1and2 --modules=merged --filternames=F115W"
sbatch --job-name=webb-pipeline-1182-F444W-nodes --output=webb-pipeline-1182-F444W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --skip_step1and2 --modules=merged --filternames=F444W"
sbatch --job-name=webb-pipeline-1182-F356W-nodes --output=webb-pipeline-1182-F356W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --no_destreak --skip_step1and2 --modules=merged --filternames=F356W"

sbatch --job-name=webb-pipeline-1182-F115W --output=webb-pipeline-1182-F115W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --skip_step1and2 --modules=merged --filternames=F115W"
sbatch --job-name=webb-pipeline-1182-F200W --output=webb-pipeline-1182-F200W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --skip_step1and2 --modules=merged --filternames=F200W"
sbatch --job-name=webb-pipeline-1182-F444W --output=webb-pipeline-1182-F444W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --skip_step1and2 --modules=merged --filternames=F444W"
sbatch --job-name=webb-pipeline-1182-F356W --output=webb-pipeline-1182-F356W-%j.log --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=128gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/ipython /blue/adamginsburg/adamginsburg/jwst/brick/reduction/PipelineRerunNIRCAM-LONG.py -- --proposal_id=1182 --field=004 --skip_step1and2 --modules=merged --filternames=F356W"

sbatch --job-name=webb-cat-F444W --output=web-cat-F444W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F444W --proposal_id=1182 --modules=merged"
sbatch --job-name=webb-cat-F356W --output=web-cat-F356W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F356W --proposal_id=1182 --modules=merged"
sbatch --job-name=webb-cat-F200W --output=web-cat-F200W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F200W --proposal_id=1182 --modules=merged"
sbatch --job-name=webb-cat-F115W --output=web-cat-F115W%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F115W --proposal_id=1182 --modules=merged"

sbatch --job-name=webb-cat-F444W-mrgrep --output=web-cat-F444W-mrgrep%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F444W --proposal_id=1182 --modules=merged-reproject"
sbatch --job-name=webb-cat-F356W-mrgrep --output=web-cat-F356W-mrgrep%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F356W --proposal_id=1182 --modules=merged-reproject"
sbatch --job-name=webb-cat-F200W-mrgrep --output=web-cat-F200W-mrgrep%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F200W --proposal_id=1182 --modules=merged-reproject"
sbatch --job-name=webb-cat-F115W-mrgrep --output=web-cat-F115W-mrgrep%j.log  --account=adamginsburg --qos=adamginsburg-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00 --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F115W --proposal_id=1182 --modules=merged-reproject"

```


Each exposure
```
sbatch --job-name=webb-cat-F410M-eachexp --output=web-cat-F410M-eachexp%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=8 --nodes=1 --mem=256gb --time=96:00:00  --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/crowdsource_catalogs_long.py --filternames=F410M --modules=merged --each-exposure --daophot"
```


Analyses
```
sbatch --job-name=brick-ccds-cmds --output=brick_ccds_cmds%j.log  --account=astronomy-dept --qos=astronomy-dept-b --ntasks=4 --nodes=1 --mem=16gb --time=96:00:00  --wrap "/blue/adamginsburg/adamginsburg/miniconda3/envs/python310/bin/python /blue/adamginsburg/adamginsburg/jwst/brick/analysis/make_CCDsandCMDs.py"
```